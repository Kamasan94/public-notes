#cybersecurity #windows 

[[3.NTLM and NetNTLM|NetNTLM]] used by SMB

### Server Message Block
This protocol allows clients (like workstations) to communicate with a server.
- We can use offline cracking techniques to recover the password associated with the NTLM Challenge
- We can use rogue device to stage a man in the middle attack

### LLMNR, NGT-NS and WPAD
We will use a Responder to attempt to intercept the NetNTLM challenge to crack it
We poison the response during the NetNTLM authentication, tricking the client into talking to you instead of the actual server they wanted to connect to. On a real LAN, Responder will attempt to poison any Link-Local Multicast Name Resolution (LLMNR), NetBIOS Name Service (NBT-NS), and Web Proxy Auto-Discovery requests
In larger Windows networks, , these protocols allow hosts to perform their own DNS resolution for all hosts on the same local network.

### Intercepting NetNTLM Challenge
The Responder essentially tries to win the race condition by poisoning the connections to ensure that you intercept the connections
Keep in mind that by poisoning, normal network authentication attempts would fail, meaning users and services would not connect to the hosts and shares they intend to.

```bash
sudo responder -I breachad
```

```bash
hashcat -m 5600 <hash file> <password file> --force
```